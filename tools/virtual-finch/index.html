<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Virtual Finch Simulator</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <header>
    <h1 id="toolTitle">Virtual Finch Simulator</h1>
    <p id="toolDesc">Build movement logic using blocks, then test it in a virtual space.</p>
  </header>

  <main>

    <!-- LEFT PANEL: RULE BUILDER -->
    <section>
      <h2>Build your movement rules</h2>
      <p>Create rules that map key presses to movement.</p>

      <div class="controls">
        <button id="runBtn" class="primary">Run</button>
        <button id="stopBtn">Stop</button>
        <button id="resetBtn">Reset</button>
        <button id="printBtn">Print</button>
      </div>

      <div class="rule-builder">
        <label for="eventSelect">When</label>
        <select id="eventSelect"></select>

        <label for="actionSelect">Do</label>
        <select id="actionSelect"></select>
      </div>

      <button id="addRuleBtn" class="primary">Add rule</button>

      <h3>Current rules</h3>
      <div id="rulesList" class="rule-list"></div>

      <details>
        <summary>Export or import rules</summary>
        <button id="exportBtn">Export JSON</button>
        <button id="importBtn">Import JSON</button>
        <textarea
          id="rulesJson"
          spellcheck="false"
          placeholder="Rules JSON will appear here"
        ></textarea>
        <p id="status" class="status"></p>
      </details>
    </section>

    <!-- RIGHT PANEL: VIRTUAL FINCH -->
    <section>
      <h2>Virtual Finch space</h2>
      <p>Click Run, then press arrow keys to move.</p>

      <div class="world-wrapper">
        <div id="world" class="world" aria-label="Virtual Finch world">
          <div id="finch" class="finch" aria-label="Virtual Finch"></div>
        </div>
      </div>

      <div class="status">
        <div><strong>Position:</strong> <span id="posText">x 0, y 0</span></div>
        <div><strong>Status:</strong> <span id="runText">Stopped</span></div>
      </div>

      <h3>How to play</h3>
      <ul>
        <li>Add at least one rule for an arrow key</li>
        <li>Click Run</li>
        <li>Press arrow keys to move the Finch</li>
        <li>Reset returns the Finch to the start position</li>
      </ul>
    </section>

  </main>

  <script src="config.js"></script>
  <script src="core.js"></script>
</body>
</html>
